when:
  path: /session/v1/login-request
  method: POST
  body: '{"data":{"CLIENT_APP_ID":"Go","CLIENT_APP_VERSION":"1.6.22","SVN_REVISION":"","ACCOUNT_NAME":"TEST","LOGIN_NAME":"TEST","SESSION_PARAMETERS":{"CLIENT_VALIDATE_DEFAULT_PARAMETERS":true},"CLIENT_ENVIRONMENT":{"APPLICATION":"Rust","OS":"darwin","OS_VERSION":"gc-arm64","OCSP_MODE":"FAIL_OPEN"},"PASSWORD":"TEST"}}'
then:
  status: 200
  header:
  - name: date
    value: Tue, 24 Sep 2024 01:33:49 GMT
  - name: content-type
    value: application/json
  - name: cache-control
    value: no-cache, no-store, no-transform
  - name: vary
    value: Accept-Encoding, User-Agent
  - name: content-length
    value: '3875'
  - name: server
    value: SF-LB
  - name: x-envoy-attempt-count
    value: '1'
  - name: x-envoy-upstream-service-time
    value: '139'
  - name: x-content-type-options
    value: nosniff
  - name: x-xss-protection
    value: 1; mode=block
  - name: expect-ct
    value: enforce, max-age=3600
  - name: strict-transport-security
    value: max-age=31536000
  - name: x-snowflake-fe-instance
    value: envoy-ingress-prod3-lr45d
  - name: x-snowflake-fe-config
    value: 652bbbb0_1725443349_9f1c10de_1727141315857_0_1727141330517
  - name: x-frame-options
    value: deny
  body: |-
    {
      "data" : {
      "masterToken" : "ver:3-hint:3386314761-ETMsDgAAAZIhqc30ABRBRVMvQ0JDL1BLQ1M1UGFkZGluZwEAABAAEOlFqH/m9l+j0O48C1B8RfQAAACgASFplq4v8k5hKrZQHp2Il3sSP83gEULHGPuItVxvR+RWJV15iufhooqwS+XNM2GCo8SNbOOAZujG7P8sAoii+seFyMnDznugcQP93gD0kdKRkc/sypZywP2CihcMMlr8zE1pxSgixaFMwU05r28EMClnBbXDDpZm/kevEt4QdW0pzROfNyDmzq59vTdQbmsk34BIGQ6jL7eeUqgg2JI6fgAUJ6UKzs2Q9Dy36KrXk8QW8qweXE0=",
      "token" : "ver:3-hint:3386314761-ETMsDgAAAZIhqc4ZABRBRVMvQ0JDL1BLQ1M1UGFkZGluZwEAABAAELK2wzC2dO5Rt0CqJY/zX5IAAACA0UjeRpd0EB9O9W7ZDCQR+8fE/G+a6sucmo39l4PPFXMRq2bZCgFPiE9x2JAKIF46zABClWUoMCfAukWyogLFIBPSAjQOa/kqvcsFp0WbqOdYrg33Os8rZm8odubuqJN2Sp+RgiHaxuOeW6ZJ0Johv7KNq7SOkGJfCo64NJePXgcAFHMNshJr0nNZhI+nPRq1qzVn+yqk",
      "validityInSeconds" : 3600,
      "masterValidityInSeconds" : 14400,
      "displayUserName" : "DDIMARIA",
      "serverVersion" : "8.35.1",
      "firstLogin" : true,
      "remMeToken" : null,
      "remMeValidityInSeconds" : 0,
      "healthCheckInterval" : 45,
      "newClientForUpgrade" : null,
      "sessionId" : 221925255290930,
      "parameters" : [ {
        "name" : "CLIENT_PREFETCH_THREADS",
        "value" : 4
      }, {
        "name" : "TIMESTAMP_OUTPUT_FORMAT",
        "value" : "YYYY-MM-DD HH24:MI:SS.FF3 TZHTZM"
      }, {
        "name" : "TIME_OUTPUT_FORMAT",
        "value" : "HH24:MI:SS"
      }, {
        "name" : "TIMESTAMP_TZ_OUTPUT_FORMAT",
        "value" : ""
      }, {
        "name" : "CLIENT_RESULT_CHUNK_SIZE",
        "value" : 160
      }, {
        "name" : "CLIENT_SESSION_KEEP_ALIVE",
        "value" : false
      }, {
        "name" : "CLIENT_OUT_OF_BAND_TELEMETRY_ENABLED",
        "value" : false
      }, {
        "name" : "QUERY_CONTEXT_CACHE_SIZE",
        "value" : 5
      }, {
        "name" : "CLIENT_METADATA_USE_SESSION_DATABASE",
        "value" : false
      }, {
        "name" : "ENABLE_STAGE_S3_PRIVATELINK_FOR_US_EAST_1",
        "value" : false
      }, {
        "name" : "TIMESTAMP_NTZ_OUTPUT_FORMAT",
        "value" : "YYYY-MM-DD HH24:MI:SS.FF3"
      }, {
        "name" : "CLIENT_RESULT_PREFETCH_THREADS",
        "value" : 1
      }, {
        "name" : "CLIENT_METADATA_REQUEST_USE_CONNECTION_CTX",
        "value" : false
      }, {
        "name" : "CLIENT_HONOR_CLIENT_TZ_FOR_TIMESTAMP_NTZ",
        "value" : true
      }, {
        "name" : "CLIENT_MEMORY_LIMIT",
        "value" : 1536
      }, {
        "name" : "CLIENT_TIMESTAMP_TYPE_MAPPING",
        "value" : "TIMESTAMP_LTZ"
      }, {
        "name" : "TIMEZONE",
        "value" : "America/Los_Angeles"
      }, {
        "name" : "CLIENT_RESULT_PREFETCH_SLOTS",
        "value" : 2
      }, {
        "name" : "CLIENT_TELEMETRY_ENABLED",
        "value" : true
      }, {
        "name" : "CLIENT_DISABLE_INCIDENTS",
        "value" : true
      }, {
        "name" : "CLIENT_USE_V1_QUERY_API",
        "value" : true
      }, {
        "name" : "CLIENT_RESULT_COLUMN_CASE_INSENSITIVE",
        "value" : false
      }, {
        "name" : "CSV_TIMESTAMP_FORMAT",
        "value" : ""
      }, {
        "name" : "BINARY_OUTPUT_FORMAT",
        "value" : "HEX"
      }, {
        "name" : "CLIENT_ENABLE_LOG_INFO_STATEMENT_PARAMETERS",
        "value" : false
      }, {
        "name" : "CLIENT_TELEMETRY_SESSIONLESS_ENABLED",
        "value" : true
      }, {
        "name" : "DATE_OUTPUT_FORMAT",
        "value" : "YYYY-MM-DD"
      }, {
        "name" : "CLIENT_FORCE_PROTECT_ID_TOKEN",
        "value" : true
      }, {
        "name" : "CLIENT_CONSENT_CACHE_ID_TOKEN",
        "value" : false
      }, {
        "name" : "CLIENT_STAGE_ARRAY_BINDING_THRESHOLD",
        "value" : 65280
      }, {
        "name" : "CLIENT_SESSION_KEEP_ALIVE_HEARTBEAT_FREQUENCY",
        "value" : 3600
      }, {
        "name" : "AUTOCOMMIT",
        "value" : true
      }, {
        "name" : "CLIENT_SESSION_CLONE",
        "value" : false
      }, {
        "name" : "TIMESTAMP_LTZ_OUTPUT_FORMAT",
        "value" : ""
      } ],
      "sessionInfo" : {
        "databaseName" : "ALL_NATIVE_DATA_TYPES",
        "schemaName" : null,
        "warehouseName" : "COMPUTE_WH",
        "roleName" : "ACCOUNTADMIN"
      },
      "idToken" : null,
      "idTokenValidityInSeconds" : 0,
      "responseData" : null,
      "mfaToken" : null,
      "mfaTokenValidityInSeconds" : 0
    },
      "code" : null,
      "message" : null,
      "success" : true
    }
---
when:
  path: /queries/v1/query-request
  method: POST
  body: '{"sqlText":"select * from all_native_data_types;","asyncExec":false,"sequenceId":1,"isInternal":false}'
then:
  status: 200
  header:
  - name: date
    value: Tue, 24 Sep 2024 01:33:49 GMT
  - name: cache-control
    value: no-cache, no-store
  - name: content-type
    value: application/json
  - name: vary
    value: Accept-Encoding, User-Agent
  - name: server
    value: SF-LB
  - name: x-envoy-attempt-count
    value: '1'
  - name: x-envoy-upstream-service-time
    value: '90'
  - name: x-content-type-options
    value: nosniff
  - name: x-xss-protection
    value: 1; mode=block
  - name: expect-ct
    value: enforce, max-age=3600
  - name: strict-transport-security
    value: max-age=31536000
  - name: x-snowflake-fe-instance
    value: envoy-ingress-prod3-lr45d
  - name: x-snowflake-fe-config
    value: 652bbbb0_1725443349_9f1c10de_1727141315857_0_1727141330517
  - name: x-frame-options
    value: deny
  - name: content-encoding
    value: gzip
  - name: transfer-encoding
    value: chunked
  body_base64: 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
